{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/godfrey/Documents/DR-Base/src/types/doctor.ts"],"sourcesContent":["// API response shapes (from Prisma includes)\n\nexport interface Organization {\n  id: string;\n  name: string;\n}\n\nexport interface DoctorEmployer {\n  organizationId: string;\n  organization: Organization;\n}\n\nexport interface DoctorPayment {\n  id: string;\n  amountCents: number;\n  period: string;\n  year: number | null;\n  payer: Organization;\n}\n\nexport interface Doctor {\n  id: string;\n  name: string;\n  specialty: string;\n  createdAt: string;\n  employers: DoctorEmployer[];\n  payments: DoctorPayment[];\n}\n\nexport function formatAmount(cents: number): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(cents / 100);\n}\n\nexport function totalPaymentsCents(payments: DoctorPayment[]): number {\n  return payments.reduce((sum, p) => sum + p.amountCents, 0);\n}\n"],"names":[],"mappings":"AAAA,6CAA6C;;;;;;;AA6BtC,SAAS,aAAa,KAAa;IACxC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC,QAAQ;AACpB;AAEO,SAAS,mBAAmB,QAAyB;IAC1D,OAAO,SAAS,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,WAAW,EAAE;AAC1D"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/godfrey/Documents/DR-Base/src/components/DoctorCard.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport type { Doctor } from \"@/types/doctor\";\nimport { formatAmount, totalPaymentsCents } from \"@/types/doctor\";\n\ninterface DoctorCardProps {\n  doctor: Doctor;\n}\n\nexport function DoctorCard({ doctor }: DoctorCardProps) {\n  const workplaces = doctor.employers.map((e) => e.organization.name).join(\", \");\n  const totalCents = totalPaymentsCents(doctor.payments);\n  const hasPay = totalCents > 0;\n\n  return (\n    <Link\n      href={`/doctors/${doctor.id}`}\n      className=\"group block rounded-xl border border-stone-200 bg-white p-6 shadow-sm transition hover:border-teal-200 hover:shadow-md\"\n    >\n      <div className=\"flex flex-col gap-3\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <div>\n            <h3 className=\"font-semibold text-stone-900 group-hover:text-teal-700\">\n              {doctor.name}\n            </h3>\n          </div>\n          <span className=\"rounded-full bg-teal-50 px-2.5 py-0.5 text-xs font-medium text-teal-700\">\n            {doctor.specialty}\n          </span>\n        </div>\n        {workplaces && (\n          <p className=\"text-sm text-stone-600\">\n            <span className=\"font-medium text-stone-500\">Works at:</span>{\" \"}\n            {workplaces}\n          </p>\n        )}\n        {hasPay && (\n          <p className=\"text-sm font-medium text-stone-700\">\n            Total tracked pay: {formatAmount(totalCents)}\n          </p>\n        )}\n      </div>\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAMO,SAAS,WAAW,EAAE,MAAM,EAAmB;IACpD,MAAM,aAAa,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC,IAAM,EAAE,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC;IACzE,MAAM,aAAa,IAAA,uKAAkB,EAAC,OAAO,QAAQ;IACrD,MAAM,SAAS,aAAa;IAE5B,qBACE,yQAAC,qNAAI;QACH,MAAM,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE;QAC7B,WAAU;kBAEV,cAAA,yQAAC;YAAI,WAAU;;8BACb,yQAAC;oBAAI,WAAU;;sCACb,yQAAC;sCACC,cAAA,yQAAC;gCAAG,WAAU;0CACX,OAAO,IAAI;;;;;;;;;;;sCAGhB,yQAAC;4BAAK,WAAU;sCACb,OAAO,SAAS;;;;;;;;;;;;gBAGpB,4BACC,yQAAC;oBAAE,WAAU;;sCACX,yQAAC;4BAAK,WAAU;sCAA6B;;;;;;wBAAiB;wBAC7D;;;;;;;gBAGJ,wBACC,yQAAC;oBAAE,WAAU;;wBAAqC;wBAC5B,IAAA,iKAAY,EAAC;;;;;;;;;;;;;;;;;;AAM7C"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///Users/godfrey/Documents/DR-Base/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis as unknown as { prisma: PrismaClient };\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({ log: process.env.NODE_ENV === \"development\" ? [\"query\", \"error\", \"warn\"] : [\"error\"] });\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAEjB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,iOAAY,CAAC;IAAE,KAAK,uCAAyC;QAAC;QAAS;QAAS;KAAO,GAAG;AAAU;AAE1G,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Users/godfrey/Documents/DR-Base/src/lib/doctor.ts"],"sourcesContent":["import type { Doctor } from \"@/types/doctor\";\nimport type { Doctor as PrismaDoctor } from \"@prisma/client\";\nimport type { DoctorEmployer, DoctorPayment } from \"@prisma/client\";\n\ntype DoctorWithRelations = PrismaDoctor & {\n  employers: (DoctorEmployer & { organization: { id: string; name: string } })[];\n  payments: (DoctorPayment & { payer: { id: string; name: string } })[];\n};\n\nexport function toDoctor(d: DoctorWithRelations): Doctor {\n  return {\n    id: d.id,\n    name: d.name,\n    specialty: d.specialty,\n    createdAt: d.createdAt.toISOString(),\n    employers: d.employers.map((e) => ({\n      organizationId: e.organizationId,\n      organization: e.organization,\n    })),\n    payments: d.payments.map((p) => ({\n      id: p.id,\n      amountCents: p.amountCents,\n      period: p.period,\n      year: p.year,\n      payer: p.payer,\n    })),\n  };\n}\n"],"names":[],"mappings":";;;;AASO,SAAS,SAAS,CAAsB;IAC7C,OAAO;QACL,IAAI,EAAE,EAAE;QACR,MAAM,EAAE,IAAI;QACZ,WAAW,EAAE,SAAS;QACtB,WAAW,EAAE,SAAS,CAAC,WAAW;QAClC,WAAW,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,IAAM,CAAC;gBACjC,gBAAgB,EAAE,cAAc;gBAChC,cAAc,EAAE,YAAY;YAC9B,CAAC;QACD,UAAU,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAM,CAAC;gBAC/B,IAAI,EAAE,EAAE;gBACR,aAAa,EAAE,WAAW;gBAC1B,QAAQ,EAAE,MAAM;gBAChB,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,KAAK;YAChB,CAAC;IACH;AACF"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///Users/godfrey/Documents/DR-Base/src/app/page.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport { DoctorCard } from \"@/components/DoctorCard\";\nimport { prisma } from \"@/lib/prisma\";\nimport { toDoctor } from \"@/lib/doctor\";\n\nasync function getSpecialties(): Promise<string[]> {\n  const rows = await prisma.doctor.findMany({\n    select: { specialty: true },\n    distinct: [\"specialty\"],\n    orderBy: { specialty: \"asc\" },\n  });\n  return rows.map((r) => r.specialty);\n}\n\nasync function getDoctors() {\n  return prisma.doctor.findMany({\n    include: {\n      employers: { include: { organization: true } },\n      payments: { include: { payer: true } },\n    },\n    orderBy: { name: \"asc\" },\n  });\n}\n\nexport default async function Home() {\n  let specialties: string[] = [];\n  let doctors: Awaited<ReturnType<typeof getDoctors>> = [];\n  try {\n    [specialties, doctors] = await Promise.all([\n      getSpecialties(),\n      getDoctors(),\n    ]);\n  } catch {\n    // DB not connected (e.g. first deploy before DATABASE_URL)\n  }\n  const featured = doctors.slice(0, 3);\n\n  return (\n    <div className=\"bg-[var(--background)]\">\n      <section className=\"border-b border-stone-200 bg-white px-4 py-16 sm:px-6\">\n        <div className=\"mx-auto max-w-6xl text-center\">\n          <h1 className=\"text-4xl font-bold tracking-tight text-stone-900 sm:text-5xl\">\n            Doctor tracking\n          </h1>\n          <p className=\"mx-auto mt-4 max-w-2xl text-lg text-stone-600\">\n            Track physicians by specialty, where they work, who pays them, and\n            how much they’re paid.\n          </p>\n          <div className=\"mt-8 flex flex-wrap justify-center gap-3\">\n            <Link\n              href=\"/doctors\"\n              className=\"rounded-lg bg-teal-600 px-5 py-2.5 font-medium text-white transition hover:bg-teal-700\"\n            >\n              Browse doctors\n            </Link>\n            <a\n              href=\"#specialties\"\n              className=\"rounded-lg border border-stone-300 bg-white px-5 py-2.5 font-medium text-stone-700 transition hover:bg-stone-50\"\n            >\n              View specialties\n            </a>\n          </div>\n        </div>\n      </section>\n\n      {specialties.length > 0 && (\n        <section id=\"specialties\" className=\"px-4 py-12 sm:px-6\">\n          <div className=\"mx-auto max-w-6xl\">\n            <h2 className=\"text-2xl font-semibold text-stone-900\">\n              Specialties\n            </h2>\n            <p className=\"mt-1 text-stone-600\">\n              Filter doctors by specialty.\n            </p>\n            <div className=\"mt-6 flex flex-wrap gap-2\">\n              {specialties.map((s) => (\n                <Link\n                  key={s}\n                  href={`/doctors?specialty=${encodeURIComponent(s)}`}\n                  className=\"rounded-full border border-stone-200 bg-white px-4 py-2 text-sm text-stone-700 transition hover:border-teal-200 hover:bg-teal-50 hover:text-teal-800\"\n                >\n                  {s}\n                </Link>\n              ))}\n            </div>\n          </div>\n        </section>\n      )}\n\n      <section className=\"border-t border-stone-200 bg-stone-50/50 px-4 py-12 sm:px-6\">\n        <div className=\"mx-auto max-w-6xl\">\n          <h2 className=\"text-2xl font-semibold text-stone-900\">\n            Featured physicians\n          </h2>\n          <p className=\"mt-1 text-stone-600\">\n            A few of the doctors in the tracking database.\n          </p>\n          {featured.length === 0 ? (\n            <p className=\"mt-6 text-stone-500\">\n              No doctors yet. Set up PostgreSQL, run migrations and seed, then\n              refresh.\n            </p>\n          ) : (\n            <>\n              <div className=\"mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n                {featured.map((doctor) => (\n                  <DoctorCard key={doctor.id} doctor={toDoctor(doctor)} />\n                ))}\n              </div>\n              <div className=\"mt-8 text-center\">\n                <Link\n                  href=\"/doctors\"\n                  className=\"text-sm font-medium text-teal-600 hover:text-teal-700\"\n                >\n                  View all doctors →\n                </Link>\n              </div>\n            </>\n          )}\n        </div>\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEA,eAAe;IACb,MAAM,OAAO,MAAM,yJAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;QACxC,QAAQ;YAAE,WAAW;QAAK;QAC1B,UAAU;YAAC;SAAY;QACvB,SAAS;YAAE,WAAW;QAAM;IAC9B;IACA,OAAO,KAAK,GAAG,CAAC,CAAC,IAAM,EAAE,SAAS;AACpC;AAEA,eAAe;IACb,OAAO,yJAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;QAC5B,SAAS;YACP,WAAW;gBAAE,SAAS;oBAAE,cAAc;gBAAK;YAAE;YAC7C,UAAU;gBAAE,SAAS;oBAAE,OAAO;gBAAK;YAAE;QACvC;QACA,SAAS;YAAE,MAAM;QAAM;IACzB;AACF;AAEe,eAAe;IAC5B,IAAI,cAAwB,EAAE;IAC9B,IAAI,UAAkD,EAAE;IACxD,IAAI;QACF,CAAC,aAAa,QAAQ,GAAG,MAAM,QAAQ,GAAG,CAAC;YACzC;YACA;SACD;IACH,EAAE,OAAM;IACN,2DAA2D;IAC7D;IACA,MAAM,WAAW,QAAQ,KAAK,CAAC,GAAG;IAElC,qBACE,yQAAC;QAAI,WAAU;;0BACb,yQAAC;gBAAQ,WAAU;0BACjB,cAAA,yQAAC;oBAAI,WAAU;;sCACb,yQAAC;4BAAG,WAAU;sCAA+D;;;;;;sCAG7E,yQAAC;4BAAE,WAAU;sCAAgD;;;;;;sCAI7D,yQAAC;4BAAI,WAAU;;8CACb,yQAAC,qNAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,yQAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;YAON,YAAY,MAAM,GAAG,mBACpB,yQAAC;gBAAQ,IAAG;gBAAc,WAAU;0BAClC,cAAA,yQAAC;oBAAI,WAAU;;sCACb,yQAAC;4BAAG,WAAU;sCAAwC;;;;;;sCAGtD,yQAAC;4BAAE,WAAU;sCAAsB;;;;;;sCAGnC,yQAAC;4BAAI,WAAU;sCACZ,YAAY,GAAG,CAAC,CAAC,kBAChB,yQAAC,qNAAI;oCAEH,MAAM,CAAC,mBAAmB,EAAE,mBAAmB,IAAI;oCACnD,WAAU;8CAET;mCAJI;;;;;;;;;;;;;;;;;;;;;0BAYjB,yQAAC;gBAAQ,WAAU;0BACjB,cAAA,yQAAC;oBAAI,WAAU;;sCACb,yQAAC;4BAAG,WAAU;sCAAwC;;;;;;sCAGtD,yQAAC;4BAAE,WAAU;sCAAsB;;;;;;wBAGlC,SAAS,MAAM,KAAK,kBACnB,yQAAC;4BAAE,WAAU;sCAAsB;;;;;iDAKnC;;8CACE,yQAAC;oCAAI,WAAU;8CACZ,SAAS,GAAG,CAAC,CAAC,uBACb,yQAAC,yKAAU;4CAAiB,QAAQ,IAAA,2JAAQ,EAAC;2CAA5B,OAAO,EAAE;;;;;;;;;;8CAG9B,yQAAC;oCAAI,WAAU;8CACb,cAAA,yQAAC,qNAAI;wCACH,MAAK;wCACL,WAAU;kDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB"}}]
}