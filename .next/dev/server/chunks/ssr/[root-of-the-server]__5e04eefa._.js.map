{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/godfrey/Documents/DR-Base/src/types/doctor.ts"],"sourcesContent":["// API response shapes (from Prisma includes)\n\nexport interface Organization {\n  id: string;\n  name: string;\n}\n\nexport interface DoctorEmployer {\n  organizationId: string;\n  organization: Organization;\n}\n\nexport interface DoctorPayment {\n  id: string;\n  amountCents: number;\n  period: string;\n  year: number | null;\n  payer: Organization;\n}\n\nexport interface Doctor {\n  id: string;\n  name: string;\n  specialty: string;\n  createdAt: string;\n  employers: DoctorEmployer[];\n  payments: DoctorPayment[];\n}\n\nexport function formatAmount(cents: number): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  }).format(cents / 100);\n}\n\nexport function totalPaymentsCents(payments: DoctorPayment[]): number {\n  return payments.reduce((sum, p) => sum + p.amountCents, 0);\n}\n"],"names":[],"mappings":"AAAA,6CAA6C;;;;;;;AA6BtC,SAAS,aAAa,KAAa;IACxC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;QACV,uBAAuB;QACvB,uBAAuB;IACzB,GAAG,MAAM,CAAC,QAAQ;AACpB;AAEO,SAAS,mBAAmB,QAAyB;IAC1D,OAAO,SAAS,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,WAAW,EAAE;AAC1D"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/godfrey/Documents/DR-Base/src/components/DoctorCard.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport type { Doctor } from \"@/types/doctor\";\nimport { formatAmount, totalPaymentsCents } from \"@/types/doctor\";\n\ninterface DoctorCardProps {\n  doctor: Doctor;\n}\n\nexport function DoctorCard({ doctor }: DoctorCardProps) {\n  const workplaces = doctor.employers.map((e) => e.organization.name).join(\", \");\n  const totalCents = totalPaymentsCents(doctor.payments);\n  const hasPay = totalCents > 0;\n\n  return (\n    <Link\n      href={`/doctors/${doctor.id}`}\n      className=\"group block rounded-xl border border-stone-200 bg-white p-6 shadow-sm transition hover:border-teal-200 hover:shadow-md\"\n    >\n      <div className=\"flex flex-col gap-3\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <div>\n            <h3 className=\"font-semibold text-stone-900 group-hover:text-teal-700\">\n              {doctor.name}\n            </h3>\n          </div>\n          <span className=\"rounded-full bg-teal-50 px-2.5 py-0.5 text-xs font-medium text-teal-700\">\n            {doctor.specialty}\n          </span>\n        </div>\n        {workplaces && (\n          <p className=\"text-sm text-stone-600\">\n            <span className=\"font-medium text-stone-500\">Works at:</span>{\" \"}\n            {workplaces}\n          </p>\n        )}\n        {hasPay && (\n          <p className=\"text-sm font-medium text-stone-700\">\n            Total tracked pay: {formatAmount(totalCents)}\n          </p>\n        )}\n      </div>\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAMO,SAAS,WAAW,EAAE,MAAM,EAAmB;IACpD,MAAM,aAAa,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC,IAAM,EAAE,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC;IACzE,MAAM,aAAa,IAAA,uKAAkB,EAAC,OAAO,QAAQ;IACrD,MAAM,SAAS,aAAa;IAE5B,qBACE,yQAAC,qNAAI;QACH,MAAM,CAAC,SAAS,EAAE,OAAO,EAAE,EAAE;QAC7B,WAAU;kBAEV,cAAA,yQAAC;YAAI,WAAU;;8BACb,yQAAC;oBAAI,WAAU;;sCACb,yQAAC;sCACC,cAAA,yQAAC;gCAAG,WAAU;0CACX,OAAO,IAAI;;;;;;;;;;;sCAGhB,yQAAC;4BAAK,WAAU;sCACb,OAAO,SAAS;;;;;;;;;;;;gBAGpB,4BACC,yQAAC;oBAAE,WAAU;;sCACX,yQAAC;4BAAK,WAAU;sCAA6B;;;;;;wBAAiB;wBAC7D;;;;;;;gBAGJ,wBACC,yQAAC;oBAAE,WAAU;;wBAAqC;wBAC5B,IAAA,iKAAY,EAAC;;;;;;;;;;;;;;;;;;AAM7C"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///Users/godfrey/Documents/DR-Base/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis as unknown as { prisma: PrismaClient };\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({ log: process.env.NODE_ENV === \"development\" ? [\"query\", \"error\", \"warn\"] : [\"error\"] });\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAEjB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,iOAAY,CAAC;IAAE,KAAK,uCAAyC;QAAC;QAAS;QAAS;KAAO,GAAG;AAAU;AAE1G,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Users/godfrey/Documents/DR-Base/src/lib/doctor.ts"],"sourcesContent":["import type { Doctor } from \"@/types/doctor\";\nimport type { Doctor as PrismaDoctor } from \"@prisma/client\";\nimport type { DoctorEmployer, DoctorPayment } from \"@prisma/client\";\n\ntype DoctorWithRelations = PrismaDoctor & {\n  employers: (DoctorEmployer & { organization: { id: string; name: string } })[];\n  payments: (DoctorPayment & { payer: { id: string; name: string } })[];\n};\n\nexport function toDoctor(d: DoctorWithRelations): Doctor {\n  return {\n    id: d.id,\n    name: d.name,\n    specialty: d.specialty,\n    createdAt: d.createdAt.toISOString(),\n    employers: d.employers.map((e) => ({\n      organizationId: e.organizationId,\n      organization: e.organization,\n    })),\n    payments: d.payments.map((p) => ({\n      id: p.id,\n      amountCents: p.amountCents,\n      period: p.period,\n      year: p.year,\n      payer: p.payer,\n    })),\n  };\n}\n"],"names":[],"mappings":";;;;AASO,SAAS,SAAS,CAAsB;IAC7C,OAAO;QACL,IAAI,EAAE,EAAE;QACR,MAAM,EAAE,IAAI;QACZ,WAAW,EAAE,SAAS;QACtB,WAAW,EAAE,SAAS,CAAC,WAAW;QAClC,WAAW,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,IAAM,CAAC;gBACjC,gBAAgB,EAAE,cAAc;gBAChC,cAAc,EAAE,YAAY;YAC9B,CAAC;QACD,UAAU,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,IAAM,CAAC;gBAC/B,IAAI,EAAE,EAAE;gBACR,aAAa,EAAE,WAAW;gBAC1B,QAAQ,EAAE,MAAM;gBAChB,MAAM,EAAE,IAAI;gBACZ,OAAO,EAAE,KAAK;YAChB,CAAC;IACH;AACF"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///Users/godfrey/Documents/DR-Base/src/app/doctors/page.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport { DoctorCard } from \"@/components/DoctorCard\";\nimport { prisma } from \"@/lib/prisma\";\nimport { toDoctor } from \"@/lib/doctor\";\n\ninterface DoctorsPageProps {\n  searchParams: Promise<{ specialty?: string }>;\n}\n\nexport default async function DoctorsPage({ searchParams }: DoctorsPageProps) {\n  const { specialty } = await searchParams;\n  let doctors: Awaited<ReturnType<typeof prisma.doctor.findMany>> = [];\n  try {\n    doctors = await prisma.doctor.findMany({\n      where: specialty ? { specialty } : undefined,\n      include: {\n        employers: { include: { organization: true } },\n        payments: { include: { payer: true } },\n      },\n      orderBy: { name: \"asc\" },\n    });\n  } catch {\n    // DB not connected\n  }\n  const list = doctors.map(toDoctor);\n\n  return (\n    <div className=\"px-4 py-10 sm:px-6\">\n      <div className=\"mx-auto max-w-6xl\">\n        <h1 className=\"text-3xl font-bold tracking-tight text-stone-900\">\n          Doctor tracking\n        </h1>\n        <p className=\"mt-2 text-stone-600\">\n          {specialty\n            ? `Filtered by ${specialty}.`\n            : \"Browse physicians by specialty, workplace, and compensation.\"}\n        </p>\n        {specialty && (\n          <Link\n            href=\"/doctors\"\n            className=\"mt-2 inline-block text-sm font-medium text-teal-600 hover:text-teal-700\"\n          >\n            Clear filter\n          </Link>\n        )}\n        <div className=\"mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n          {list.map((doctor) => (\n            <DoctorCard key={doctor.id} doctor={doctor} />\n          ))}\n        </div>\n        {list.length === 0 && (\n          <p className=\"py-12 text-center text-stone-500\">\n            No doctors found. Add a database, run migrations and seed, or clear\n            the filter.\n          </p>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAMe,eAAe,YAAY,EAAE,YAAY,EAAoB;IAC1E,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM;IAC5B,IAAI,UAA8D,EAAE;IACpE,IAAI;QACF,UAAU,MAAM,yJAAM,CAAC,MAAM,CAAC,QAAQ,CAAC;YACrC,OAAO,YAAY;gBAAE;YAAU,IAAI;YACnC,SAAS;gBACP,WAAW;oBAAE,SAAS;wBAAE,cAAc;oBAAK;gBAAE;gBAC7C,UAAU;oBAAE,SAAS;wBAAE,OAAO;oBAAK;gBAAE;YACvC;YACA,SAAS;gBAAE,MAAM;YAAM;QACzB;IACF,EAAE,OAAM;IACN,mBAAmB;IACrB;IACA,MAAM,OAAO,QAAQ,GAAG,CAAC,2JAAQ;IAEjC,qBACE,yQAAC;QAAI,WAAU;kBACb,cAAA,yQAAC;YAAI,WAAU;;8BACb,yQAAC;oBAAG,WAAU;8BAAmD;;;;;;8BAGjE,yQAAC;oBAAE,WAAU;8BACV,YACG,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC,GAC3B;;;;;;gBAEL,2BACC,yQAAC,qNAAI;oBACH,MAAK;oBACL,WAAU;8BACX;;;;;;8BAIH,yQAAC;oBAAI,WAAU;8BACZ,KAAK,GAAG,CAAC,CAAC,uBACT,yQAAC,yKAAU;4BAAiB,QAAQ;2BAAnB,OAAO,EAAE;;;;;;;;;;gBAG7B,KAAK,MAAM,KAAK,mBACf,yQAAC;oBAAE,WAAU;8BAAmC;;;;;;;;;;;;;;;;;AAQ1D"}}]
}